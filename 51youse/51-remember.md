[gitlab](http://10.36.2.115)(http://123.150.252.54:2018/) liubin@51youse.com liubin (http://10.36.2.118)
[readmine](http://10.36.2.115:81/redmine/) liub （http://123.150.252.54:81/redmine/my/page）
[swagger](http://10.36.2.114:8888/api/swagger/index.html#!/v1%2Forder/listAll)
[test](http://10.36.2.119:3000/buyerOrderPage)
[51](http://operate.51youse.com/)
[svn](svn://10.36.2.115/fr_dev_dept) \trunk\doc\01_项目管理\03.进度管理\01.进度计划表
[svn-pro](svn://10.36.2.115/pro_des_dept/) liubin

[swagger](http://10.36.2.115:9081/api/swagger/index.html#/)

[119](http://123.150.252.54:91)
[lan360](http://10.36.2.123:8080/api/)
[v2.0](http://123.150.252.54:9080/api/)(http://10.36.2.122:9080/api/)(10.36.2.119:8080)

http://123.150.252.54:2000/users/sign_in
http://123.150.252.54:2018/root/operate_manager/merge_requests/new
http://123.150.252.54:2018/51hl/operate_manager/merge_requests/new

http://123.150.252.54:81//redmine/my/page

http://10.36.2.118 liubin 12345678 

[oa](http://oa.hengtonggroup.com.cn/wui/main.jsp)
(http://10.6.2.30:7001/easweb/) 2018070258
https://vpn.dtwave.com/

#### 
>
商城
```
   MIDtiger
   ...aaa111
```
>
后台管理
youseadmin4           123456
xadmin51              123456


const youse = "http://123.150.252.54:8090/api/" 9001
const youseqz = "http://123.150.252.54:8001/api/"

const gengdan = "http://123.150.252.54:3000/api"
http://10.36.2.119:8080/api/


GDLG0020180530113811177	2018-05-30 11:38:11	2018-07-16 15:40:07	江苏五一互联电子商务有限公司


/v1/dict/manager/list
字典表通用查询

```js
   legalPersonName
   legalPersonCertificateType
   legalPersonCertificateNumber
   legalPersonMobile
```


```js 
  replace(new RegExp("_","gm"),"  ")
  let tes = /(?=.*[a-zA-Z])(?=.*\d)(?=.*[#@!~%^&*$`(){}+=_|;:'<>.,?-])[a-zA-Z\d#@!~%^&*$`(){}+=_|;:'<>.,?-]{8,16}/;
  pattern:/(?=.*[a-zA-Z])(?=.*\d)(?=.*[#@!~%^&*$`(){}+=_|;:'<>.,?-])[a-zA-Z\d#@!~%^&*$`(){}+=_|;:'<>.,?-]{8,16}/,message:'8-16位，必须包含符号、数字和字母'
  /^0\.\d{1,4}$|^[1-9]\d{0,7}(\.\d{1,4})?$/
  
  /^[A-Za-z0-9]+$/ //字母数字
  /[\u4e00-\u9fa5]/ //中文字符
  /^0\d{2}-\d{8}$|^0\d{3}-\d{7}$/ //当区号为4位的时候 号码为7位   0371-1234567，，，，区号为3位的时候 号码为8位   022-12345678

  /^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/; //身份证
  time.replace(/\-/g, "/")
  table-layout: fixed;

  myImage.replace(/^data:image\/\w+;base64,/, "");
  new Buffer(params.img, 'base64')
  const {typeid} = this.$route.query;   //?
  const {$route: {params: { orderID }}} = this;


  pattern:/^0\d{2,3}-\d{7,8}$/, message:'座机号格式错误'
  pattern:/^[1][3,4,5,7,8][0-9]{9}$/, message:'手机号格式错误'  
   function commafy(num){
      return num && num
          .toString()
          .replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g, '$&,')
  }
  var u = navigator.userAgent, app = navigator.appVersion;
  var isIOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
  
  postcss-px-to-viewport vw
  postcss-px2rem postcss-px2rem-exclude lib-flexible
  
  pm2 start npm --name "51shop" -- run build --watch

  @babel/plugin-proposal-optional-chaining
``` 
```js
   // 订货状态
   const  = {
     130: '未订货',
     131: '订货中',
     132: '订货成功',
     133: '订单取消'
 }
 const orderStatus = {
    5: '进行中',
    6: '交易完成',
    7: '交易关闭',
}
```
order/api/img/delete
```js
        SELECT("select", "下拉可选项"),
  
        METERAGE_SELECT("meterage_select", "计量单位下拉可选项"),
        
        TEXT("text", "文本输入框"),
        
        SELECT_TEXT("select_text", "下拉可选项文本输入框"),
        
        METERAGE_TEXT("meterage_text", "计量度量单位文本输入框"),
        
        CUBAGE_METERAGE_TEXT("cubage_meterage_text", "体积(长宽高[厚、深])计量度量单位文本输入框"),
        
        CHECKBOX("checkbox", "多选项"),
        
        SELECTMORE("select_more", "下拉可选项多级联动"),
        
        TEXTMORE("text_more", "文本框可选项多级联动"),
        
        RADIO("radio", "单选项");
```
```js
   crm/api/order/add-v1/order/crm/add //现货商品下单
```

svn://10.36.2.115/pro_des_dept/trunk/doc/03_产品设计/04.CRM/V1.3/02.功能设计/TP-CRM-代客下单V1.2/TP-CRM-代客下单V1.2.rp 

关键属性_销售_物流_地理_仓库_交易(不存在empty占位)

2926 2933 2942

orderType   value  market  seller  buyer  SELLER  BUYER
自营销售订单  53     20      20      10             -
自营采购订单  55     0       10      20     _
撮合订单     54     10      10       10    

queryOrderingList
v1/order/crm/logisticsinfo -> v1/order/logisticsinfo



#### url --> page
```js
   api/v1/order/pagelist -> /ordering/api/list ->  queryOrdering -> ordering/queryOrderingList
   -> /v1/order/crm/pagelist
```
```js
   /ordering/orderList/info -> 自营销售订单 -> Ordering/orderManagement.js -> ./OrderingManagementList
   /ordered/orderList/info

   /orderacc/customeracc/info  //废弃 
   
   /crmManager/customerOrder/info ->客户订单 -> Ordering/crmCustomerOrder.jsx -> ./OrderingManagementList
   
   /ordering/matchOrderList/info -> 撮合订单 -> Ordering/orderManagement1.js -> ./OrderingManagementList
   /ordered/matchOrderList/info

   /ordering/companyOrderList/info -> 亨通订单 -> Ordering/orderManagement2.js -> ./OrderingManagementList

   /orderacc/customeracc/info //废弃

   /ordering/riskacc/info ->订单审核 -> Risk/orderManagement2.js -> ./OrderingManagementList
   
   /orderacc/riskacc/info //废弃

   /orderacc/bdacc/info  //废弃

   /orderacc/merchacc/info //废弃 
```

#### /v1/order/crm/logisticsinfo
```js 
   /v1/order/crm/logisticsinfo -> /v1/order/logisticsinfo
```
#### /v1/order/updatecontract
```js 
   /v1/order/updatecontract -> /v1/econtract/attachment/upload
   ordering/contractUpdate
```
#### v1/item/batch/price/updates
```js
   v1/item/batch/price/updates 
   RESTINGPRICEUPDATES-> /lan360/pending/price/update
   /lan360/pending/list
```
#### /v1/item/spotresource/get/
```js
   ITEMDETAIL -> /item/spotresource/getItem
```
#### 订单关闭
```js
   /v1/order/close -> /order/api/close -> closeOrder -> ordering/closeOrderList ->/OrderCloseModule
```
#### /v1/order/batchupdate 批量更新客户经理
```js
   BATCHUPDATE->/order/api/manager/update
```
#### api/v1/order/list
```js
   -> /ordering/api/oneList -> queryOrderingOneList
```
#### /v1/order/logistics/addupdate
```js
   ->/order/logist/infoupdate
```

#### vscode node
```js
   {
    // 使用 IntelliSense 了解相关属性。 
    // 悬停以查看现有属性的描述。
    // 欲了解更多信息，请访问: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        
        {
            "name":"启动",
            "type": "node",
            "request": "launch", 
            "protocol": "inspector",
            "program": "${workspaceFolder}/operate_manager/server.js"
        }
    ]
}
```

valuePropName:"checked"
@blur.native.capture="checkPwd"

```js
   // 函数参数必须是字符串，因为二代身份证号码是十八位，而在javascript中，十八位的数值会超出计算范围，造成不精确的结果，导致最后两位和计算的值不一致，从而该函数出现错误。
   // 详情查看javascript的数值范围
   export function checkIDCard(idcode){
      // 加权因子
      var weight_factor = [7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];
      // 校验码
      var check_code = ['1', '0', 'X' , '9', '8', '7', '6', '5', '4', '3', '2'];

      var code = idcode + "";
      var last = idcode[17];//最后一个

      var seventeen = code.substring(0,17);

      // ISO 7064:1983.MOD 11-2
      // 判断最后一位校验码是否正确
      var arr = seventeen.split("");
      var len = arr.length;
      var num = 0;
      for(var i = 0; i < len; i++){
         num = num + arr[i] * weight_factor[i];
      }
      
      // 获取余数
      var resisue = num%11;
      var last_no = check_code[resisue];

      // 格式的正则
      // 正则思路
      /*
      第一位不可能是0
      第二位到第六位可以是0-9
      第七位到第十位是年份，所以七八位为19或者20
      十一位和十二位是月份，这两位是01-12之间的数值
      十三位和十四位是日期，是从01-31之间的数值
      十五，十六，十七都是数字0-9
      十八位可能是数字0-9，也可能是X
      */
      var idcard_patter = /^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/;

      // 判断格式是否正确
      var format = idcard_patter.test(idcode);

      // 返回验证结果，校验码和格式同时正确才算是合法的身份证号码
      return last === last_no && format ? true : false;
   }
```
``` 
   if (index.indexOf('/uploads') == 0) {
								imgNewArr.push(serverUrl + index);
							} else {
								imgNewArr.push(bucketManger.privateDownloadUrl(config.origin, index, config.timeout))
							}
```
(node:26318) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.

<meta content="IE=edge" http-equiv="X-UA-Compatible">
modifyVars

app.get('*', function(req, res) {
  res.sendFile(path.join(__dirname, 'dist','index.html'));
});

extraBabelIncludes:['./node_modules/hxtrip-backstage-common'],

[google]
https://github.com/getlantern/lantern
https://github.com/EtherDream/jsproxy/
https://zjcqoo.github.io/
https://github.com/v2ray/v2ray-core

使用verdaccio搭建npm仓库

https://vintage.myetherwallet.com/

#### google
```js
  liubin18205556911@gmail.com
  len.liu53@gmail.com
```
#### github
```js
    915249126@qq.com
    18205556911@163.com
```

npm audit fix --force

Cannot read property 'thisCompilation' of undefined webpack4.x->3.x
extract-text-webpack-plugin:^3.0.2
umi:^2.5.6

var reader= new FileReader();
			reader.readAsDataURL(file);
         reader.readAsDataURL(new Blob(filePath));
			 // 当文件读取成功时执行的函数
			reader.onload=function(e){
        console.log(this)
      }
window.URL.createObjectURL(file)   
   
        // const cropperImg = new Image();
        // cropperImg.src = src;
        // cropperImg.onload=function(){
        //   that.copperImg();
        // }

'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'        

showTime={{
  defaultValue: [moment('00:00:00', 'HH:mm:ss'), moment('23:59:59', 'HH:mm:ss')],
}} format="YYYY-MM-DD"

```js
   export function listToTree(data, options) {
      options = options || {};
      const ID_KEY = options.idKey || 'id';
      const PARENT_KEY = options.parentKey || 'parentCid';
      const CHILDREN_KEY = options.childrenKey || 'children';
      let tree = [],
      childrenOf = {};
      let item,
            id,
            parentId;
      for (let i = 0, length = data.length; i < length; i++) {
            item = data[i];
            id = item[ID_KEY];
            parentId = item[PARENT_KEY] || 0;
            childrenOf[id] = childrenOf[id] || [];
            item[CHILDREN_KEY] = childrenOf[id];
            if (parentId != 0) {
               childrenOf[parentId] = childrenOf[parentId] || [];
               childrenOf[parentId].push(item);
            } else {
            tree.push(item);
            }
         }

      return tree;
   }
```
location / {
        try_files $uri $uri/ /index.html;
}

res1.text.encode("iso-8859-1").decode('utf-8', 'ignore')
new String(excelName.getBytes("gb2312"), "ISO8859-1") //中文字符，一定要转换成ISO8859-1格式

mac/linux PORT=4000 
windows set PORT=4000